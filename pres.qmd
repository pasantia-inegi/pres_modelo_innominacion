---
# title: "modelo de innominaci√≥n de documento"
# author: "Abril 2024"
format:
  revealjs:
    auto-stretch: false
    margin: 0
    slide-number: true
    scrollable: true
    preview-links: auto
    logo: imagenes/logo_portada2.png
    css: ine_quarto_styles.css
    # footer: <https://quarto.org>
---

#


<!---
# TODO: this does not work
 ![](imagenes/logo_portada2.png){.center style="width: 20%;"}   
--->

[]{.linea-superior} 
[]{.linea-inferior} 

<!---
 <img src="imagenes/logo_portada2.png" style="width: 20%"/>  
--->

<img src="imagenes/logo_portada2.png" width="20%"/>  


[**Ciencia de datos para el sector p√∫blico:**]{.big-par .center-justified}
[**Modelo de innominaci√≥n de documentos**]{.big-par .center-justified}
[**Proyecto Ciencia de Datos**]{.medium-par.center-justified}

[**Abril 2024**]{.big-par .center-justified}


## Contenidos  

<!---
Presentacion falseamiento
- estadisticas descriptivas (por bloques)
- descripcion de variables y modelos (+ metricas)
- analisis de resultados de las predicciones (tablas con proporciones para ver supervision final)
 --->

::: {.incremental}

- Problem√°tica üìÑü§î

- Modelamiento üõ†Ô∏è

  - Descripci√≥n modelo YOLOv5
  
  - Entrenamiento
  
  - Innominaci√≥n de informes
  

- Empaquetado üì¶

  - Estructura
  
  - Aplicaci√≥n
  
  - Ejemplo de uso

:::


<!---
 ![](imagenes/overview-mode.png){.border} 

--->

## Problem√°tica (1/)

:::{.incremental }

- Por ley de transparencia activa, los √≥rganos y servicios gubernamentales deben publicar las funciones administrativas del personal de planta, a contrata y el que se desempe√±e en virtud de un contrato de trabajo, y contratadas a honorarios.

- En el caso del personal con contrato a honorarios, estos deben realizar mensualmente un informe de cumplimiento, en donde se describen las actividades realizas durante el mes.

- En estos documentos, existe informaci√≥n confidencial de las personas: el RUN (Rol √önico Nacional) y firma, los cuales deben ser censurados en la publicaci√≥n.

:::

## Problem√°tica (2/)

Ejemplo informe de cumplimiento:

[<img src="imagenes/plots/informe_yo.jpg" width="70%"/>]{.center} 


## Problem√°tica (3/)

. . .

:::{.incremental .medium-par}

- Cantidad de personas a contrata en el INE:

    |Antes de CENSO| Durante de CENSO|
    |---|---|
    |256| PREGUNTAR |

- Lo cual se transforma en un trabajo manual muy extenso para la unidad de transparencia y atenci√≥n ciudadana del INE.

:::

<br>

. . . 

[¬øC√≥mo innominamos estos documentos?]{.center} 

. . .

[¬°Creaci√≥n de modelo de deep learning que detecte y censure el RUN y firmas üòÉ!]{.center} 


## Modelamiento | Descripci√≥n modelo YOLOv5

:::{.incremental}

- El modelo YOLOv *You Only Look Once*, es un modelo de detecci√≥n de objetos proveniente del paquete *Ultralytics*, dise√±ado con deep learning. 

- Este modelo pre-entrenado posee diferentes versiones:

    [<img src="imagenes/plots/model_comparison.png" width="70%"/>]{.center}
    
- Toda la informaci√≥n disponible la pueden encontrar en su repositorio de [github](https://github.com/ultralytics/yolov5)

:::

<br>


## Modelamiento | Entrenamiento

Para entrenar el modelo, se siguieron los siguientes pasos:

. . .

:::{.incremental .medium-par}

- **Paso 1**: Procesar informe

  - Transformar el formato de pdf a imagen.
  
  
- **Paso 2**: Etiquetar im√°genes

  - Para el etiquetado de im√°genes se utiliz√≥ la aplicaci√≥n [*make-sense*](https://github.com/SkalskiP/make-sense?tab=readme-ov-file), la cual podemos utilizar desde nuestro navegador o ejecutarlo en local.
  
  - Las ventajas de esta aplicaci√≥n es que es de libre uso, el formato de etiquetado es compatible con el requerido para entrenar el modelo YOLOv5 y es de f√°cil uso.
  
  - Se etiquetaron al rededor de 1000 im√°genes. 
  
- **Paso 3**: Setting del modelo.*

:::

. . .

<br>

[*Para m√°s informaci√≥n de como entrenar modelos YOLOv, visitar el siguiente [link](https://docs.ultralytics.com/es/yolov5/tutorials/train_custom_data/)]{.small-par}


## Modelamiento | Innominaci√≥n de informes (1/)

Una vez entrenado el modelo, la metodolog√≠a para realizar la innominaci√≥n sigue el siguiente flujo:

. . .

:::{.incremental .medium-par}

- **Paso 1**: Procesar informe

  - Transformar el formato de pdf a imagen.
  
  
- **Paso 2**: Identificar RUN y firmas

  - Para cada conjunto de im√°genes de un informe, se identificaran las firmas y el run.
  
  - Una vez identificada la secci√≥n donde est√°n los objetos, se ocultar√°n las secciones con un rect√°ngulo negro.
  
  - En cada uno de los informes, en total debe existir un run y 2 firmas. En el caso de no cumplir esta condici√≥n, se etiquetar√° el documento como *informe dudoso* y se registrar√° para que el equipo encargado realice la revisi√≥n manual.
  
- **Paso 3**: Transformar el informe a su formato original

  - Realizar uni√≥n de im√°genes y generar pdf.

:::


## Empaquetado | Estructura


[<img src="imagenes/diagrama.png" width="100%"/>]{.center} 




## Empaquetado | Ejemplo de uso

Veamos en vivo un ejemplo de uso:

< Link a app en intranet INE>

<!-- https://www.portaltransparencia.cl/PortalPdT/directorio-de-organismos-regulados/?org=AH007 -->




#

[<img src="imagenes/logo_portada2.png" width="20%"/>]{.center}


[**Ciencia de datos para el sector p√∫blico:**]{.big-par .center-justified}
[**Modelo de innominaci√≥n de documentos**]{.big-par .center-justified}
[**Proyecto Ciencia de Datos**]{.medium-par.center-justified}

[**Abril 2024**]{.big-par .center-justified}



[]{.linea-superior} 
[]{.linea-inferior} 



